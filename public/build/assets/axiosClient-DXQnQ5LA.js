function s(){var r;const n=window.axios;if(!n)throw new Error("Axios is required but not available. Please ensure axios is loaded in app.js");const a=(r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.content,o=n.create({baseURL:"/",headers:{"X-CSRF-TOKEN":a,"Content-Type":"application/json"}});return o.interceptors.request.use(e=>{const t=localStorage.getItem("access_token")||localStorage.getItem("token")||localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.withCredentials=!0,e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("authentication"),window.location.href="/admin/login"),Promise.reject(e)}),o}const i=s();export{i as default};
