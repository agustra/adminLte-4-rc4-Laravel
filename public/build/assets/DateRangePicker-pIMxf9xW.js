import{g as be}from"./_commonjsHelpers-CqkleIqs.js";var ie={exports:{}},we=ie.exports,he;function ke(){return he||(he=1,(function(O,m){(function(f,y){O.exports=y()})(we,(function(){return(function(){var f={d:function(o,e){for(var i in e)f.o(e,i)&&!f.o(o,i)&&Object.defineProperty(o,i,{enumerable:!0,get:e[i]})},o:function(o,e){return Object.prototype.hasOwnProperty.call(o,e)}},y={};f.d(y,{default:function(){return A}});var h={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},b={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:h.days,minView:h.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,fixedHeight:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function w(o){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof o=="string"?e.querySelector(o):o}function k(){let{tagName:o="div",className:e="",innerHtml:i="",id:t="",attrs:n={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=document.createElement(o);return e&&a.classList.add(...e.split(" ")),t&&(a.id=t),i&&(a.innerHTML=i),n&&F(a,n),a}function F(o,e){for(let[i,t]of Object.entries(e))t!==void 0&&o.setAttribute(i,t);return o}function $(o){return new Date(o.getFullYear(),o.getMonth()+1,0).getDate()}function v(o){let e=o.getHours(),{hours:i,dayPeriod:t}=re(e);return{year:o.getFullYear(),month:o.getMonth(),fullMonth:o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1,date:o.getDate(),fullDate:o.getDate()<10?"0"+o.getDate():o.getDate(),day:o.getDay(),hours:e,fullHours:q(e),hours12:i,dayPeriod:t,fullHours12:q(i),minutes:o.getMinutes(),fullMinutes:o.getMinutes()<10?"0"+o.getMinutes():o.getMinutes()}}function re(o){return{dayPeriod:o>11?"pm":"am",hours:o%12==0?12:o%12}}function q(o){return o<10?"0"+o:o}function N(o){let e=10*Math.floor(o.getFullYear()/10);return[e,e+9]}function V(){let o=[];for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return i.forEach((n=>{if(typeof n=="object")for(let a in n)n[a]&&o.push(a);else n&&o.push(n)})),o.join(" ")}function C(o,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.days;if(!o||!e)return!1;let t=v(o),n=v(e);return{[h.days]:t.date===n.date&&t.month===n.month&&t.year===n.year,[h.months]:t.month===n.month&&t.year===n.year,[h.years]:t.year===n.year}[i]}function L(o,e,i){let t=Z(o,!1).getTime(),n=Z(e,!1).getTime();return i?t>=n:t>n}function J(o,e){return!L(o,e,!0)}function Z(o){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=new Date(o.getTime());return typeof e!="boolean"||e||(function(t){t.setHours(0,0,0,0)})(i),i}function _(o,e,i){o.length?o.forEach((t=>{t.addEventListener(e,i)})):o.addEventListener(e,i)}function G(o,e){return!(!o||o===document||o instanceof DocumentFragment)&&(o.matches(e)?o:G(o.parentNode,e))}function z(o,e,i){return o>i?i:o<e?e:o}function ee(o){for(var e=arguments.length,i=new Array(e>1?e-1:0),t=1;t<e;t++)i[t-1]=arguments[t];return i.filter((n=>n)).forEach((n=>{for(let[a,s]of Object.entries(n))if(s!==void 0&&s.toString()==="[object Object]"){let r=o[a]!==void 0?o[a].toString():void 0,l=s.toString(),d=Array.isArray(s)?[]:{};o[a]=o[a]?r!==l?d:o[a]:d,ee(o[a],s)}else o[a]=s})),o}function T(o){let e=o;return o instanceof Date||(typeof o=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(o)&&(o+="T00:00:00"),e=new Date(o)),isNaN(e.getTime())&&(console.log(`Unable to convert value "${o}" to Date object`),e=!1),e}function se(o){let e="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+e+")("+o+")($|<|"+e+")","g")}function P(o,e,i){return(e=(function(t){var n=(function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(t);return typeof n=="symbol"?n:String(n)})(e))in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}class ce{constructor(){let{type:e,date:i,dp:t,opts:n,body:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};P(this,"focus",(()=>{this.$cell.classList.add("-focus-"),this.focused=!0})),P(this,"removeFocus",(()=>{this.$cell.classList.remove("-focus-"),this.focused=!1})),P(this,"select",(()=>{this.$cell.classList.add("-selected-"),this.selected=!0})),P(this,"removeSelect",(()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1})),P(this,"onChangeSelectedDate",(()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())})),P(this,"onChangeFocusDate",(s=>{if(!s)return void(this.focused&&this.removeFocus());let r=C(s,this.date,this.type);r?this.focus():!r&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()})),P(this,"render",(()=>(this.$cell.innerHTML=this._getHtml(),this._handleClasses(),this.$cell))),this.type=e,this.singleType=this.type.slice(0,-1),this.date=i,this.dp=t,this.opts=n,this.body=a,this.customData=!1,this.init()}init(){var e,i;let{onRenderCell:t}=this.opts;t&&(this.customData=t({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),(e=this.customData)!==null&&e!==void 0&&e.disabled?this.dp.disableDate(this.date):((i=this.customData)===null||i===void 0?void 0:i.disabled)===!1&&this.dp.enableDate(this.date)}_bindDatepickerEvents(){this.dp.on(h.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(h.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(h.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(h.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var e;let{year:i,month:t,fullMonth:n,date:a,fullDate:s}=v(this.date),r=((e=this.customData)===null||e===void 0?void 0:e.attrs)||{};this.$cell=k({attrs:{"data-year":i,"data-month":t,"data-date":a,"data-iso-date":`${i}-${n}-${s}`,...r}}),this.$cell.adpCell=this}_getClassName(){var e;let i=new Date,{selectOtherMonths:t,selectOtherYears:n}=this.opts,{minDate:a,maxDate:s,isDateDisabled:r}=this.dp,{day:l}=v(this.date),d=this._isOutOfMinMaxRange(),u=r(this.date),c=V("air-datepicker-cell",`-${this.singleType}-`,{"-current-":C(i,this.date,this.type),"-min-date-":a&&C(a,this.date,this.type),"-max-date-":s&&C(s,this.date,this.type)}),p="";switch(this.type){case h.days:p=V({"-weekend-":this.dp.isWeekend(l),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!t||d||u});break;case h.months:p=V({"-disabled-":d});break;case h.years:p=V({"-other-decade-":this.isOtherDecade,"-disabled-":d||this.isOtherDecade&&!n})}return V(c,p,(e=this.customData)===null||e===void 0?void 0:e.classes).split(" ")}_getHtml(){var e;let{year:i,month:t,date:n}=v(this.date),{showOtherMonths:a,showOtherYears:s}=this.opts;if((e=this.customData)!==null&&e!==void 0&&e.html)return this.customData.html;switch(this.type){case h.days:return!a&&this.isOtherMonth?"":n;case h.months:return this.dp.locale[this.opts.monthsField][t];case h.years:return!s&&this.isOtherDecade?"":i}}_isOutOfMinMaxRange(){let{minDate:e,maxDate:i}=this.dp,{type:t,date:n}=this,{month:a,year:s,date:r}=v(n),l=t===h.days,d=t===h.years,u=!!e&&new Date(s,d?e.getMonth():a,l?r:e.getDate()),c=!!i&&new Date(s,d?i.getMonth():a,l?r:i.getDate());return e&&i?J(u,e)||L(c,i):e?J(u,e):i?L(c,i):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){const{selectedDates:e,focusDate:i,rangeDateTo:t,rangeDateFrom:n}=this.dp,a=e.length;if(this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),!a)return;let s=n,r=t;if(a===1&&i){const p=L(i,e[0]);s=p?e[0]:i,r=p?i:e[0]}let l=V({"-in-range-":s&&r&&(d=this.date,u=s,c=r,L(d,u)&&J(d,c)),"-range-from-":s&&C(this.date,s,this.type),"-range-to-":r&&C(this.date,r,this.type)});var d,u,c;l&&this.$cell.classList.add(...l.split(" "))}_handleSelectedStatus(){let e=this.dp._checkIfDateIsSelected(this.date,this.type);e?this.select():!e&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){C(this.dp.focusDate,this.date,this.type)&&this.focus()}_handleClasses(){this.$cell.setAttribute("class",""),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),this.dp.opts.range&&this._handleRangeStatus()),this.$cell.classList.add(...this._getClassName())}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function x(o,e,i){return(e=(function(t){var n=(function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(t);return typeof n=="symbol"?n:String(n)})(e))in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}let ue={[h.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${h.days}-"></div>`,[h.months]:`<div class="air-datepicker-body--cells -${h.months}-"></div>`,[h.years]:`<div class="air-datepicker-body--cells -${h.years}-"></div>`};const X=".air-datepicker-cell";class I{constructor(e){let{dp:i,type:t,opts:n}=e;x(this,"handleClick",(a=>{let s=a.target.closest(X).adpCell;if(s.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let r=this.dp._checkIfDateIsSelected(s.date,s.type);r?this.dp._handleAlreadySelectedDates(r,s.date):this.dp.selectDate(s.date)})),x(this,"handleDayNameClick",(a=>{let s=a.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(s),datepicker:this.dp})})),x(this,"onChangeCurrentView",(a=>{a!==this.type?this.hide():(this.show(),this.render())})),x(this,"onMouseOverCell",(a=>{let s=G(a.target,X);this.dp.setFocusDate(!!s&&s.adpCell.date)})),x(this,"onMouseOutCell",(()=>{this.dp.setFocusDate(!1)})),x(this,"onClickBody",(a=>{let{onClickDayName:s}=this.opts,r=a.target;r.closest(X)&&this.handleClick(a),s&&r.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(a)})),x(this,"onMouseDown",(a=>{this.pressed=!0;let s=G(a.target,X),r=s&&s.adpCell;C(r.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),C(r.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)})),x(this,"onMouseMove",(a=>{if(!this.pressed||!this.dp.isMinViewReached)return;a.preventDefault();let s=G(a.target,X),r=s&&s.adpCell,{selectedDates:l,rangeDateTo:d,rangeDateFrom:u}=this.dp;if(!r||r.isDisabled)return;let{date:c}=r;if(l.length===2){if(this.rangeFromFocused&&!L(c,d)){let{hours:p,minutes:D}=v(u);c.setHours(p),c.setMinutes(D),this.dp.rangeDateFrom=c,this.dp.replaceDate(u,c)}if(this.rangeToFocused&&!J(c,u)){let{hours:p,minutes:D}=v(d);c.setHours(p),c.setMinutes(D),this.dp.rangeDateTo=c,this.dp.replaceDate(d,c)}}})),x(this,"onMouseUp",(()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1})),x(this,"onChangeViewDate",((a,s)=>{if(!this.isVisible)return;let r=N(a),l=N(s);switch(this.dp.currentView){case h.days:if(C(a,s,h.months))return;break;case h.months:if(C(a,s,h.years))return;break;case h.years:if(r[0]===l[0]&&r[1]===l[1])return}this.render()})),x(this,"render",(()=>{this.destroyCells(),this._generateCells(),this.cells.forEach((a=>{this.$cells.appendChild(a.render())}))})),this.dp=i,this.type=t,this.opts=n,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===h.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:e,dynamicRange:i}=this.opts;_(this.$el,"mouseover",this.onMouseOverCell),_(this.$el,"mouseout",this.onMouseOutCell),_(this.$el,"click",this.onClickBody),e&&i&&(_(this.$el,"mousedown",this.onMouseDown),_(this.$el,"mousemove",this.onMouseMove),_(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(h.eventChangeViewDate,this.onChangeViewDate),this.dp.on(h.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=k({className:`air-datepicker-body -${this.type}-`,innerHtml:ue[this.type]}),this.$names=w(".air-datepicker-body--day-names",this.$el),this.$cells=w(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,i="",t=this.dp.isWeekend,{onClickDayName:n}=this.opts,a=e,s=0;for(;s<7;){let r=a%7;i+=`<div class="${V("air-datepicker-body--day-name",{[h.cssClassWeekend]:t(r),"-clickable-":!!n})}" data-day-index='${r}'>${this.dp.locale.daysMin[r]}</div>`,s++,a++}return i}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCell(e){let{type:i,dp:t,opts:n}=this;return new ce({type:i,dp:t,opts:n,date:e,body:this})}_generateCells(){I.getDatesFunction(this.type)(this.dp,(e=>{this.cells.push(this._generateCell(e))}))}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach((e=>e.destroy())),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(h.eventChangeViewDate,this.onChangeViewDate),this.dp.off(h.eventChangeCurrentView,this.onChangeCurrentView)}static getDaysDates(e,i){let{viewDate:t,opts:{fixedHeight:n},locale:{firstDay:a}}=e,s=$(t),{year:r,month:l}=v(t),d=new Date(r,l,1),u=new Date(r,l,s),c=d.getDay()-a,p=6-u.getDay()+a;c=c<0?c+7:c,p=p>6?p-7:p;let D=(function(U,ne){let{year:te,month:ve,date:De}=v(U);return new Date(te,ve,De-ne)})(d,c),S=s+c+p,M=D.getDate(),{year:E,month:Q}=v(D),Y=0;n&&(S=42);const K=[];for(;Y<S;){let U=new Date(E,Q,M+Y);i&&i(U),K.push(U),Y++}return K}static getMonthsDates(e,i){let{year:t}=e.parsedViewDate,n=0,a=[];for(;n<12;){const s=new Date(t,n);a.push(s),i&&i(s),n++}return a}static getYearsDates(e,i){let t=N(e.viewDate),n=t[0]-1,a=t[1]+1,s=n,r=[];for(;s<=a;){const l=new Date(s,0);r.push(l),i&&i(l),s++}return r}static getDatesFunction(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.days;return{[h.days]:I.getDaysDates,[h.months]:I.getMonthsDates,[h.years]:I.getYearsDates}[e]}}function j(o,e,i){return(e=(function(t){var n=(function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(t);return typeof n=="symbol"?n:String(n)})(e))in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}class pe{constructor(e){let{dp:i,opts:t}=e;j(this,"onClickNav",(n=>{let a=G(n.target,".air-datepicker-nav--action");if(!a)return;let s=a.dataset.action;this.dp[s]()})),j(this,"onChangeViewDate",(()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()})),j(this,"onChangeCurrentView",(()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()})),j(this,"onClickNavTitle",(()=>{this.dp.isFinalView||this.dp.up()})),j(this,"update",(()=>{let{prevHtml:n,nextHtml:a}=this.opts;this.$prev.innerHTML=n,this.$next.innerHTML=a,this._resetNavStatus(),this.render(),this.handleNavStatus()})),j(this,"renderDelay",(()=>{setTimeout(this.render)})),j(this,"render",(()=>{this.$title.innerHTML=this._getTitle(),(function(n,a){for(let s in a)a[s]?n.classList.add(s):n.classList.remove(s)})(this.$title,{"-disabled-":this.dp.isFinalView})})),this.dp=i,this.opts=t,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=w(".air-datepicker-nav--title",this.$el),this.$prev=w('[data-action="prev"]',this.$el),this.$next=w('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(h.eventChangeViewDate,this.onChangeViewDate),this.dp.on(h.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(h.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(h.eventChangeTime,this.render))}destroy(){this.dp.off(h.eventChangeViewDate,this.onChangeViewDate),this.dp.off(h.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(h.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(h.eventChangeTime,this.render))}_createElement(){this.$el=k({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:e,opts:i}=this,t=i.navTitles[e.currentView];return typeof t=="function"?t(e):e.formatDate(e.viewDate,t)}handleNavStatus(){let{disableNavWhenOutOfRange:e}=this.opts,{minDate:i,maxDate:t}=this.dp;if(!i&&!t||!e)return;let{year:n,month:a}=this.dp.parsedViewDate,s=!!i&&v(i),r=!!t&&v(t);switch(this.dp.currentView){case h.days:i&&s.month>=a&&s.year>=n&&this._disableNav("prev"),t&&r.month<=a&&r.year<=n&&this._disableNav("next");break;case h.months:i&&s.year>=n&&this._disableNav("prev"),t&&r.year<=n&&this._disableNav("next");break;case h.years:{let l=N(this.dp.viewDate);i&&s.year>=l[0]&&this._disableNav("prev"),t&&r.year<=l[1]&&this._disableNav("next");break}}}_disableNav(e){w('[data-action="'+e+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(e){for(var i=arguments.length,t=new Array(i>1?i-1:0),n=1;n<i;n++)t[n-1]=arguments[n];e.length?e.forEach((a=>{a.classList.remove(...t)})):e.classList.remove(...t)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:e,nextHtml:i}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${e}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${i}</div>`}get isNavIsFunction(){let{navTitles:e}=this.opts;return Object.keys(e).find((i=>typeof e[i]=="function"))}}var oe={today:{content:o=>o.locale.today,onClick:o=>o.setViewDate(new Date)},clear:{content:o=>o.locale.clear,onClick:o=>o.clear()}};class me{constructor(e){let{dp:i,opts:t}=e;this.dp=i,this.opts=t,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=k({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:e}=this.opts;Array.isArray(e)||(e=[e]),e.forEach((i=>{let t=i;typeof i=="string"&&oe[i]&&(t=oe[i]);let n=this.createButton(t);t.onClick&&this.attachEventToButton(n,t.onClick),this.$el.appendChild(n)}))}attachEventToButton(e,i){e.addEventListener("click",(()=>{i(this.dp)}))}createButton(e){let{content:i,className:t,tagName:n="button",attrs:a={}}=e;return k({tagName:n,innerHtml:`<span tabindex='-1'>${typeof i=="function"?i(this.dp):i}</span>`,className:V("air-datepicker-button",t),attrs:a})}render(){this.generateButtons()}}function B(o,e,i){return(e=(function(t){var n=(function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(t);return typeof n=="symbol"?n:String(n)})(e))in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}class fe{constructor(){let{opts:e,dp:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};B(this,"toggleTimepickerIsActive",(n=>{this.dp.timepickerIsActive=n})),B(this,"onChangeSelectedDate",(n=>{let{date:a,updateTime:s=!1}=n;a&&(this.setMinMaxTime(a),this.setCurrentTime(!!s&&a),this.addTimeToDate(a))})),B(this,"onChangeLastSelectedDate",(n=>{n&&(this.setTime(n),this.render())})),B(this,"onChangeInputRange",(n=>{let a=n.target;this[a.getAttribute("name")]=a.value,this.updateText(),this.dp.trigger(h.eventChangeTime,{hours:this.hours,minutes:this.minutes})})),B(this,"onMouseEnterLeave",(n=>{let a=n.target.getAttribute("name"),s=this.$minutesText;a==="hours"&&(s=this.$hoursText),s.classList.toggle("-focus-")})),B(this,"onFocus",(()=>{this.toggleTimepickerIsActive(!0)})),B(this,"onBlur",(()=>{this.toggleTimepickerIsActive(!1)})),this.opts=e,this.dp=i;let{timeFormat:t}=this.dp.locale;t&&(t.match(se("h"))||t.match(se("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(h.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(h.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let e="input";navigator.userAgent.match(/trident/gi)&&(e="change"),_(this.$ranges,e,this.onChangeInputRange),_(this.$ranges,"mouseenter",this.onMouseEnterLeave),_(this.$ranges,"mouseleave",this.onMouseEnterLeave),_(this.$ranges,"focus",this.onFocus),_(this.$ranges,"mousedown",this.onFocus),_(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=k({className:V("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(h.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(h.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:e,hours:i,displayHours:t,minutes:n,minHours:a,minMinutes:s,maxHours:r,maxMinutes:l,dayPeriod:d,opts:{hoursStep:u,minutesStep:c}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${q(t)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${q(n)}</span>   `+(e?`<span class='air-datepicker-time--current-ampm'>${d}</span>`:"")+`</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">      <input type="range" name="hours" value="${i}" min="${a}" max="${r}" step="${u}"/>   </div>   <div class="air-datepicker-time--row">      <input type="range" name="minutes" value="${n}" min="${s}" max="${l}" step="${c}"/>   </div></div>`}defineDOM(){let e=i=>w(i,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=e('[name="hours"]'),this.$minutes=e('[name="minutes"]'),this.$hoursText=e(".air-datepicker-time--current-hours"),this.$minutesText=e(".air-datepicker-time--current-minutes"),this.$ampm=e(".air-datepicker-time--current-ampm")}setTime(e){this.setMinMaxTime(e),this.setCurrentTime(e)}addTimeToDate(e){e&&(e.setHours(this.hours),e.setMinutes(this.minutes))}setMinMaxTime(e){if(this.setMinMaxTimeFromOptions(),e){let{minDate:i,maxDate:t}=this.dp;i&&C(e,i)&&this.setMinTimeFromMinDate(i),t&&C(e,t)&&this.setMaxTimeFromMaxDate(t)}}setCurrentTime(e){let{hours:i,minutes:t}=e?v(e):this;this.hours=z(i,this.minHours,this.maxHours),this.minutes=z(t,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:e,minMinutes:i,maxHours:t,maxMinutes:n}=this.opts;this.minHours=z(e,0,23),this.minMinutes=z(i,0,59),this.maxHours=z(t,0,23),this.maxMinutes=z(n,0,59)}setMinTimeFromMinDate(e){let{lastSelectedDate:i}=this.dp;this.minHours=e.getHours(),i&&i.getHours()>e.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=e.getMinutes()}setMaxTimeFromMaxDate(e){let{lastSelectedDate:i}=this.dp;this.maxHours=e.getHours(),i&&i.getHours()<e.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=e.getMinutes()}updateSliders(){F(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,F(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=q(this.displayHours),this.$minutesText.innerHTML=q(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(e){this._hours=e;let{hours:i,dayPeriod:t}=re(e);this.displayHours=this.ampm?i:e,this.dayPeriod=t}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function R(o,e,i){return(e=(function(t){var n=(function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(t);return typeof n=="symbol"?n:String(n)})(e))in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}class ge{constructor(e){let{dp:i,opts:t}=e;R(this,"pressedKeys",new Set),R(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],n=>n.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],n=>n.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],n=>n.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],n=>n.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],n=>n.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],n=>n.year-=10],[["Control","Shift","ArrowUp"],(n,a)=>a.up()]])),R(this,"handleHotKey",(n=>{let a=this.hotKeys.get(n),s=v(this.getInitialFocusDate());a(s,this.dp);let{year:r,month:l,date:d}=s,u=$(new Date(r,l));u<d&&(d=u);let c=this.dp.getClampedDate(new Date(r,l,d));this.dp.setFocusDate(c,{viewDateTransition:!0})})),R(this,"isHotKeyPressed",(()=>{let n=!1,a=this.pressedKeys.size,s=r=>this.pressedKeys.has(r);for(let[r]of this.hotKeys){if(n)break;if(Array.isArray(r[0]))r.forEach((l=>{n||a!==l.length||(n=l.every(s)&&r)}));else{if(a!==r.length)continue;n=r.every(s)&&r}}return n})),R(this,"isArrow",(n=>n>=37&&n<=40)),R(this,"onKeyDown",(n=>{if(!this.dp.visible&&!this.dp.treatAsInline)return;let{key:a,which:s}=n,{dp:r,dp:{focusDate:l},opts:d}=this;this.registerKey(a);let u=this.isHotKeyPressed();if(u)return n.preventDefault(),void this.handleHotKey(u);if(this.isArrow(s))return n.preventDefault(),void this.focusNextCell(a);if(a==="Enter"){if(r.currentView!==d.minView)return void r.down();if(l){let c=r._checkIfDateIsSelected(l);return void(c?r._handleAlreadySelectedDates(c,l):r.selectDate(l))}}a==="Escape"&&this.dp.hide()})),R(this,"onKeyUp",(n=>{this.removeKey(n.key)})),this.dp=i,this.opts=t,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:e}=this.dp;e.addEventListener("keydown",this.onKeyDown),e.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:e}=this.dp;e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:e,currentView:i,selectedDates:t,parsedViewDate:{year:n,month:a}}=this.dp,s=e||t[t.length-1];if(!s)switch(i){case h.days:s=new Date(n,a,new Date().getDate());break;case h.months:s=new Date(n,a,1);break;case h.years:s=new Date(n,0,1)}return s}focusNextCell(e){let i=this.getInitialFocusDate(),{currentView:t}=this.dp,{days:n,months:a,years:s}=h,r=v(i),l=r.year,d=r.month,u=r.date;switch(e){case"ArrowLeft":t===n&&(u-=1),t===a&&(d-=1),t===s&&(l-=1);break;case"ArrowUp":t===n&&(u-=7),t===a&&(d-=3),t===s&&(l-=4);break;case"ArrowRight":t===n&&(u+=1),t===a&&(d+=1),t===s&&(l+=1);break;case"ArrowDown":t===n&&(u+=7),t===a&&(d+=3),t===s&&(l+=4)}let c=this.dp.getClampedDate(new Date(l,d,u));this.dp.setFocusDate(c,{viewDateTransition:!0})}registerKey(e){this.pressedKeys.add(e)}removeKey(e){this.pressedKeys.delete(e)}}let ye={on(o,e){this.__events||(this.__events={}),this.__events[o]?this.__events[o].push(e):this.__events[o]=[e]},off(o,e){this.__events&&this.__events[o]&&(this.__events[o]=this.__events[o].filter((i=>i!==e)))},removeAllEvents(){this.__events={}},trigger(o){for(var e=arguments.length,i=new Array(e>1?e-1:0),t=1;t<e;t++)i[t-1]=arguments[t];this.__events&&this.__events[o]&&this.__events[o].forEach((n=>{n(...i)}))}};function g(o,e,i){return(e=(function(t){var n=(function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(t);return typeof n=="symbol"?n:String(n)})(e))in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}let W="",H="",ae=!1;class A{static buildGlobalContainer(e){ae=!0,W=k({className:e,id:e}),w("body").appendChild(W)}constructor(e,i){var t=this;if(g(this,"viewIndexes",[h.days,h.months,h.years]),g(this,"next",(()=>{let{year:s,month:r}=this.parsedViewDate;switch(this.currentView){case h.days:this.setViewDate(new Date(s,r+1,1));break;case h.months:this.setViewDate(new Date(s+1,r,1));break;case h.years:this.setViewDate(new Date(s+10,0,1))}})),g(this,"prev",(()=>{let{year:s,month:r}=this.parsedViewDate;switch(this.currentView){case h.days:this.setViewDate(new Date(s,r-1,1));break;case h.months:this.setViewDate(new Date(s-1,r,1));break;case h.years:this.setViewDate(new Date(s-10,0,1))}})),g(this,"_finishHide",(()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)})),g(this,"setPosition",(function(s){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(s=s||t.opts.position)=="function")return void(t.customHide=s({$datepicker:t.$datepicker,$target:t.$el,$pointer:t.$pointer,isViewChange:r,done:t._finishHide}));let l,d,{isMobile:u}=t.opts,c=t.$el.getBoundingClientRect(),p=t.$el.getBoundingClientRect(),D=t.$datepicker.offsetParent,S=t.$el.offsetParent,M=t.$datepicker.getBoundingClientRect(),E=s.split(" "),Q=window.scrollY,Y=window.scrollX,K=t.opts.offset,U=E[0],ne=E[1];if(u)t.$datepicker.style.cssText="left: 50%; top: 50%";else{if(D===S&&D!==document.body&&(p={top:t.$el.offsetTop,left:t.$el.offsetLeft,width:c.width,height:t.$el.offsetHeight},Q=0,Y=0),D!==S&&D!==document.body){let te=D.getBoundingClientRect();p={top:c.top-te.top,left:c.left-te.left,width:c.width,height:c.height},Q=0,Y=0}switch(U){case"top":l=p.top-M.height-K;break;case"right":d=p.left+p.width+K;break;case"bottom":l=p.top+p.height+K;break;case"left":d=p.left-M.width-K}switch(ne){case"top":l=p.top;break;case"right":d=p.left+p.width-M.width;break;case"bottom":l=p.top+p.height-M.height;break;case"left":d=p.left;break;case"center":/left|right/.test(U)?l=p.top+p.height/2-M.height/2:d=p.left+p.width/2-M.width/2}t.$datepicker.style.cssText=`left: ${d+Y}px; top: ${l+Q}px`}})),g(this,"_setInputValue",(()=>{let{opts:s,$altField:r,locale:{dateFormat:l}}=this,{altFieldDateFormat:d,altField:u}=s;u&&r&&(r.value=this._getInputValue(d)),this.$el.value=this._getInputValue(l),this.$el.dispatchEvent(new Event("change"))})),g(this,"_getInputValue",(s=>{let{selectedDates:r,opts:l}=this,{multipleDates:d,multipleDatesSeparator:u}=l;if(!r.length)return"";let c=typeof s=="function",p=c?s(d?r:r[0]):r.map((D=>this.formatDate(D,s)));return p=c?p:p.join(u),p})),g(this,"_checkIfDateIsSelected",(function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.days,l=!1;return t.selectedDates.some((d=>{let u=C(s,d,r);return l=u&&d,u})),l})),g(this,"_scheduleCallAfterTransition",(s=>{this._cancelScheduledCall(),s&&s(!1),this._onTransitionEnd=()=>{s&&s(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})})),g(this,"_cancelScheduledCall",(()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)})),g(this,"setViewDate",(s=>{if(!((s=T(s))instanceof Date)||C(s,this.viewDate))return;let r=this.viewDate;this.viewDate=s;let{onChangeViewDate:l}=this.opts;if(l){let{month:d,year:u}=this.parsedViewDate;l({month:d,year:u,decade:this.curDecade})}this.trigger(h.eventChangeViewDate,s,r)})),g(this,"setFocusDate",(function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!s||(s=T(s))instanceof Date)&&(t.focusDate=s,t.trigger(h.eventChangeFocusDate,s,r))})),g(this,"setCurrentView",(function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t.viewIndexes.includes(s)){if(t.currentView=s,t.elIsInput&&t.visible&&t.setPosition(void 0,!0),t.trigger(h.eventChangeCurrentView,s),!t.views[s]){let l=t.views[s]=new I({dp:t,opts:t.opts,type:s});t.shouldUpdateDOM&&t.$content.appendChild(l.$el)}t.opts.onChangeView&&!r.silent&&t.opts.onChangeView(s)}})),g(this,"_updateLastSelectedDate",(s=>{this.lastSelectedDate=s,this.trigger(h.eventChangeLastSelectedDate,s)})),g(this,"destroy",(()=>{if(this.isDestroyed)return;let{showEvent:s,isMobile:r}=this.opts,l=this.$datepicker.parentNode;l&&l.removeChild(this.$datepicker),this.$el.removeEventListener(s,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),r&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts={},this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=[],this.rangeDateFrom=null,this.rangeDateTo=null,this.isDestroyed=!0})),g(this,"update",(function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=ee({},t.opts),{silent:d}=r;ee(t.opts,s);let{timepicker:u,buttons:c,range:p,selectedDates:D,isMobile:S}=t.opts,M=t.visible||t.treatAsInline;t._createMinMaxDates(),t._limitViewDateByMaxMinDates(),t._handleLocale(),D&&(t.selectedDates=[],t.selectDate(D,{silent:d})),s.view&&t.setCurrentView(s.view,{silent:d}),t._setInputValue(),l.range&&!p?(t.rangeDateTo=!1,t.rangeDateFrom=!1):!l.range&&p&&t.selectedDates.length&&(t.rangeDateFrom=t.selectedDates[0],t.rangeDateTo=t.selectedDates[1]),l.timepicker&&!u?(M&&t.timepicker.destroy(),t.timepicker=!1,t.$timepicker.parentNode.removeChild(t.$timepicker)):!l.timepicker&&u&&t._addTimepicker(),!l.buttons&&c?t._addButtons():l.buttons&&!c?(t.buttons.destroy(),t.$buttons.parentNode.removeChild(t.$buttons)):M&&l.buttons&&c&&t.buttons.clearHtml().render(),!l.isMobile&&S?(t.treatAsInline||H||t._createMobileOverlay(),t._addMobileAttributes(),t.visible&&t._showMobileOverlay()):l.isMobile&&!S&&(t._removeMobileAttributes(),t.visible&&(H.classList.remove("-active-"),typeof t.opts.position!="function"&&t.setPosition())),M&&(t.nav.update(),t.views[t.currentView].render(),t.currentView===h.days&&t.views[t.currentView].renderDayNames())})),g(this,"disableDate",((s,r)=>{(Array.isArray(s)?s:[s]).forEach((l=>{let d=T(l);if(!d)return;let u=r?"delete":"add";this.disabledDates[u](this.formatDate(d,"yyyy-MM-dd"));let c=this.getCell(d,this.currentViewSingular);c&&c.adpCell.render()}),[])})),g(this,"enableDate",(s=>{this.disableDate(s,!0)})),g(this,"isDateDisabled",(s=>{let r=T(s);return this.disabledDates.has(this.formatDate(r,"yyyy-MM-dd"))})),g(this,"isOtherMonth",(s=>{let{month:r}=v(s);return r!==this.parsedViewDate.month})),g(this,"isOtherYear",(s=>{let{year:r}=v(s);return r!==this.parsedViewDate.year})),g(this,"isOtherDecade",(s=>{let{year:r}=v(s),[l,d]=N(this.viewDate);return r<l||r>d})),g(this,"_onChangeSelectedDate",(s=>{let{silent:r}=s;setTimeout((()=>{this._setInputValue(),this.opts.onSelect&&!r&&this._triggerOnSelect()}))})),g(this,"_onChangeFocusedDate",(function(s){let{viewDateTransition:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!s)return;let l=!1;r&&(l=t.isOtherMonth(s)||t.isOtherYear(s)||t.isOtherDecade(s)),l&&t.setViewDate(s),t.opts.onFocus&&t.opts.onFocus({datepicker:t,date:s})})),g(this,"_onChangeTime",(s=>{let{hours:r,minutes:l}=s,d=new Date,{lastSelectedDate:u,opts:{onSelect:c}}=this,p=u;u||(p=d);let D=this.getCell(p,this.currentViewSingular),S=D&&D.adpCell;S&&S.isDisabled||(p.setHours(r),p.setMinutes(l),u?(this._setInputValue(),c&&this._triggerOnSelect()):this.selectDate(p))})),g(this,"_onFocus",(s=>{this.visible||this.show()})),g(this,"_onBlur",(s=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()})),g(this,"_onMouseDown",(s=>{this.inFocus=!0})),g(this,"_onMouseUp",(s=>{this.inFocus=!1,this.$el.focus()})),g(this,"_onResize",(()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()})),g(this,"_onClickOverlay",(()=>{this.visible&&this.hide()})),g(this,"getViewDates",(function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.days;return I.getDatesFunction(s)(t)})),g(this,"isWeekend",(s=>this.opts.weekends.includes(s))),g(this,"getClampedDate",(s=>{let{minDate:r,maxDate:l}=this,d=s;return l&&L(s,l)?d=l:r&&J(s,r)&&(d=r),d})),this.$el=w(e),!this.$el)return;this.$datepicker=k({className:"air-datepicker"}),this.opts=ee({},b,i),this.$customContainer=!!this.opts.container&&w(this.opts.container),this.$altField=w(this.opts.altField||!1);let{view:n,startDate:a}=this.opts;a||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=T(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=n,this.selectedDates=[],this.disabledDates=new Set,this.isDestroyed=!1,this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:e,treatAsInline:i,opts:{inline:t,isMobile:n,selectedDates:a,keyboardNav:s,onlyTimepicker:r}}=this,l=w("body");(!ae||ae&&W&&!l.contains(W))&&!t&&this.elIsInput&&!this.$customContainer&&A.buildGlobalContainer(A.defaultGlobalContainerId),!n||H||i||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(t||this._bindEvents(),s&&!r&&(this.keyboardNav=new ge({dp:this,opts:e}))),a&&this.selectDate(a,{silent:!0}),this.opts.visible&&!i&&this.show(),n&&!i&&this.$el.setAttribute("readonly",!0),i&&this._createComponents()}_createMobileOverlay(){H=k({className:"air-datepicker-overlay"}),W.appendChild(H)}_createComponents(){let{opts:e,treatAsInline:i,opts:{inline:t,buttons:n,timepicker:a,position:s,classes:r,onlyTimepicker:l,isMobile:d}}=this;this._buildBaseHtml(),this.elIsInput&&(t||this._setPositionClasses(s)),!t&&this.elIsInput||this.$datepicker.classList.add("-inline-"),r&&this.$datepicker.classList.add(...r.split(" ")),l&&this.$datepicker.classList.add("-only-timepicker-"),d&&!i&&this._addMobileAttributes(),this.views[this.currentView]=new I({dp:this,type:this.currentView,opts:e}),this.nav=new pe({dp:this,opts:e}),a&&this._addTimepicker(),n&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let e in this.views)this.views[e].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){H.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){H.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:e,maxDate:i}=this.opts;this.minDate=!!e&&T(e),this.maxDate=!!i&&T(i)}_addTimepicker(){this.$timepicker=k({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new fe({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=k({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new me({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(h.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(h.eventChangeFocusDate,this._onChangeFocusedDate),this.on(h.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:e}=this.opts;var i,t;this.elIsInput?e?(i=this.$datepicker,(t=this.$el).parentNode.insertBefore(i,t.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=w(".air-datepicker--content",this.$datepicker),this.$pointer=w(".air-datepicker--pointer",this.$datepicker),this.$nav=w(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:e,dateFormat:i,firstDay:t,timepicker:n,onlyTimepicker:a,timeFormat:s,dateTimeSeparator:r}=this.opts;var l;this.locale=(l=e,JSON.parse(JSON.stringify(l))),i&&(this.locale.dateFormat=i),s!==void 0&&s!==""&&(this.locale.timeFormat=s);let{timeFormat:d}=this.locale;if(t!==""&&(this.locale.firstDay=t),n&&typeof i!="function"){let u=d?r:"";this.locale.dateFormat=[this.locale.dateFormat,d||""].join(u)}a&&typeof i!="function"&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(e){if(typeof e=="function")return void this.$datepicker.classList.add("-custom-position-");let i=(e=e.split(" "))[0],t=`air-datepicker -${i}-${e[1]}- -from-${i}-`;this.$datepicker.classList.add(...t.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:e,minDate:i,maxDate:t}=this;t&&L(e,t)&&this.setViewDate(t),i&&J(e,i)&&this.setViewDate(i)}formatDate(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,i=arguments.length>1?arguments[1]:void 0;if(e=T(e),!(e instanceof Date))return;let t=i,n=this.locale,a=v(e),s=a.dayPeriod,r=N(e),l=A.replacer,d={T:e.getTime(),m:a.minutes,mm:a.fullMinutes,h:a.hours12,hh:a.fullHours12,H:a.hours,HH:a.fullHours,aa:s,AA:s.toUpperCase(),E:n.daysShort[a.day],EEEE:n.days[a.day],d:a.date,dd:a.fullDate,M:a.month+1,MM:a.fullMonth,MMM:n.monthsShort[a.month],MMMM:n.months[a.month],yy:a.year.toString().slice(-2),yyyy:a.year,yyyy1:r[0],yyyy2:r[1]};for(let[u,c]of Object.entries(d))t=l(t,se(u),c);return t}down(e){this._handleUpDownActions(e,"down")}up(e){this._handleUpDownActions(e,"up")}selectDate(e){let i,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:n,parsedViewDate:a,selectedDates:s}=this,{updateTime:r,silent:l}=t,{moveToOtherMonthsOnSelect:d,moveToOtherYearsOnSelect:u,multipleDates:c,range:p,autoClose:D,onBeforeSelect:S}=this.opts,M=s.length;if(Array.isArray(e))return e.forEach((E=>{this.selectDate(E,t)})),new Promise((E=>{setTimeout(E)}));if((e=T(e))instanceof Date){if(S&&!l&&!S({date:e,datepicker:this}))return Promise.resolve();if(n===h.days&&e.getMonth()!==a.month&&d&&(i=new Date(e.getFullYear(),e.getMonth(),1)),n===h.years&&e.getFullYear()!==a.year&&u&&(i=new Date(e.getFullYear(),0,1)),i&&this.setViewDate(i),c&&!p){if(M===c)return;this._checkIfDateIsSelected(e)||s.push(e)}else if(p)switch(M){case 1:s.push(e),this.rangeDateTo||(this.rangeDateTo=e),L(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=e),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[e],this.rangeDateFrom=e,this.rangeDateTo="";break;default:this.selectedDates=[e],this.rangeDateFrom=e}else this.selectedDates=[e];return this.trigger(h.eventChangeSelectedDate,{action:h.actionSelectDate,silent:t==null?void 0:t.silent,date:e,updateTime:r}),this._updateLastSelectedDate(e),D&&!this.timepickerIsActive&&this.visible&&(c||p?p&&M===1&&this.hide():this.hide()),new Promise((E=>{setTimeout(E)}))}}unselectDate(e){let i=this.selectedDates,t=this;if((e=T(e))instanceof Date)return i.some(((n,a)=>{if(C(n,e))return i.splice(a,1),t.selectedDates.length?(t.rangeDateTo="",t.rangeDateFrom=i[0],t._updateLastSelectedDate(t.selectedDates[t.selectedDates.length-1])):(t.rangeDateFrom="",t.rangeDateTo="",t._updateLastSelectedDate(!1)),this.trigger(h.eventChangeSelectedDate,{action:h.actionUnselectDate,date:e}),!0}))}replaceDate(e,i){let t=this.selectedDates.find((a=>C(a,e,this.currentView))),n=this.selectedDates.indexOf(t);n<0||C(this.selectedDates[n],i,this.currentView)||(this.selectedDates[n]=i,this.trigger(h.eventChangeSelectedDate,{action:h.actionSelectDate,date:i,updateTime:!0}),this._updateLastSelectedDate(i))}clear(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.lastSelectedDate=!1,this.trigger(h.eventChangeSelectedDate,{action:h.actionUnselectDate,silent:e.silent}),new Promise((i=>{setTimeout(i)}))}show(){let{onShow:e,isMobile:i}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,e&&this._scheduleCallAfterTransition(e),i&&this._showMobileOverlay()}hide(){let{onHide:e,isMobile:i}=this.opts,t=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition((n=>{!this.customHide&&(n&&t||!n&&!t)&&this._finishHide(),e&&e(n)})),i&&H.classList.remove("-active-")}_triggerOnSelect(){let e=[],i=[],{selectedDates:t,locale:n,opts:{onSelect:a,multipleDates:s,range:r}}=this,l=s||r,d=typeof n.dateFormat=="function";t.length&&(e=t.map(Z),i=d?s?n.dateFormat(e):e.map((u=>n.dateFormat(u))):e.map((u=>this.formatDate(u,n.dateFormat)))),a({date:l?e:e[0],formattedDate:l?i:i[0],datepicker:this})}_handleAlreadySelectedDates(e,i){let{selectedDates:t,rangeDateFrom:n,rangeDateTo:a}=this,{range:s,toggleSelected:r}=this.opts,l=t.length,d=typeof r=="function"?r({datepicker:this,date:i}):r,u=!!(s&&l===1&&e),c=u?Z(i):i;s&&!d&&(l!==2&&this.selectDate(c),l===2&&C(n,a))||(d?this.unselectDate(c):this._updateLastSelectedDate(u?c:e))}_handleUpDownActions(e,i){if(!((e=T(e||this.focusDate||this.viewDate))instanceof Date))return;let t=i==="up"?this.viewIndex+1:this.viewIndex-1;t>2&&(t=2),t<0&&(t=0),this.setViewDate(new Date(e.getFullYear(),e.getMonth(),1)),this.setCurrentView(this.viewIndexes[t])}getCell(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.day;if(!((e=T(e))instanceof Date))return;let{year:t,month:n,date:a}=v(e),s=`[data-year="${t}"]`,r=`[data-month="${n}"]`,l={[h.day]:`${s}${r}[data-date="${a}"]`,[h.month]:`${s}${r}`,[h.year]:`${s}`};return this.views[this.currentView]?this.views[this.currentView].$el.querySelector(l[i]):void 0}_showMobileOverlay(){H.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce(((e,i)=>parseFloat(i)+e),0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return v(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return N(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===h.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===h.days}get $container(){return this.$customContainer||W}static replacer(e,i,t){return e.replace(i,(function(n,a,s,r){return a+t+r}))}}var le;return g(A,"defaults",b),g(A,"version","3.6.0"),g(A,"defaultGlobalContainerId","air-datepicker-global-container"),le=A.prototype,Object.assign(le,ye),y.default})()}))})(ie)),ie.exports}var Ce=ke();const de=be(Ce);function Se(O){if(!document.getElementById("air-datepicker-dark-styles")){const b=document.createElement("style");b.id="air-datepicker-dark-styles",b.textContent=`
            .air-datepicker.air-datepicker-dark {
                background: #212529 !important;
                border: 1px solid #495057 !important;
                color: #f8f9fa !important;
            }
            .air-datepicker.air-datepicker-dark .air-datepicker--cell {
                color: #f8f9fa !important;
                background: transparent !important;
            }
            .air-datepicker.air-datepicker-dark .air-datepicker--cell:hover {
                background: #0d6efd !important;
                color: #ffffff !important;
            }
            .air-datepicker.air-datepicker-dark .air-datepicker--cell.-selected- {
                background: #0d6efd !important;
                color: #ffffff !important;
            }
            .air-datepicker.air-datepicker-dark .air-datepicker--nav {
                background: #212529 !important;
                border-bottom: 1px solid #495057 !important;
            }
            .air-datepicker.air-datepicker-dark .air-datepicker--nav-title,
            .air-datepicker.air-datepicker-dark .air-datepicker--nav-action {
                color: #f8f9fa !important;
            }
            .air-datepicker.air-datepicker-dark .air-datepicker--nav-action:hover {
                background: #495057 !important;
            }
        `,document.head.appendChild(b)}let m=document.getElementById("idFilterSingleDate");if(!m){console.error("❌ Elemen #idFilterSingleDate tidak ditemukan!");return}if(m.innerHTML="",m.innerHTML=`
        <div class="d-flex align-items-center mb-2">
            <i class="fas fa-calendar-alt me-2 text-muted"></i>
            <div class="input-group input-group-sm">
                <input type="text" id="monthPicker" class="form-control" placeholder="Pilih Bulan" readonly data-bs-theme="auto">
                <input type="hidden" id="filter-bulan">
                <input type="hidden" id="filter-tahun">
                <button class="btn btn-outline-secondary" type="button" id="resetFilter" style="display: none;" data-bs-theme="auto">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    `,typeof de>"u"){console.error("❌ Air Datepicker tidak ditemukan! Pastikan CDN telah dimuat.");return}const y=document.documentElement.getAttribute("data-bs-theme")==="dark",h=new de("#monthPicker",{view:"months",minView:"months",dateFormat:"MM/yyyy",autoClose:!0,classes:y?"air-datepicker-dark":"",onShow(){setTimeout(()=>{const b=document.querySelector(".air-datepicker"),w=document.documentElement.getAttribute("data-bs-theme");if(b&&w==="dark"){b.style.backgroundColor="#212529",b.style.border="1px solid #495057",b.style.color="#f8f9fa",b.querySelectorAll(".air-datepicker-cell.-month-").forEach($=>{$.style.color="#f8f9fa",$.style.backgroundColor="transparent",$.addEventListener("mouseenter",function(){!this.classList.contains("-selected-")&&!this.classList.contains("-current-")&&(this.style.backgroundColor="#0d6efd",this.style.color="#ffffff")}),$.addEventListener("mouseleave",function(){this.classList.contains("-selected-")?(this.style.backgroundColor="#198754",this.style.color="#ffffff"):this.classList.contains("-current-")?(this.style.backgroundColor="#fd7e14",this.style.color="#ffffff"):(this.style.backgroundColor="transparent",this.style.color="#f8f9fa")}),$.classList.contains("-selected-")?($.style.backgroundColor="#198754",$.style.color="#ffffff"):$.classList.contains("-current-")&&($.style.backgroundColor="#fd7e14",$.style.color="#ffffff")});const F=b.querySelector(".air-datepicker-nav");F&&(F.style.backgroundColor="#212529",F.style.borderBottom="1px solid #495057",F.querySelectorAll(".air-datepicker-nav--title, .air-datepicker-nav--action").forEach(v=>{v.style.color="#f8f9fa"}))}},10)},locale:{days:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],daysShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],daysMin:["Mg","Sn","Sl","Rb","Km","Jm","Sb"],months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],today:"Hari ini",clear:"Hapus",dateFormat:"MM/yyyy",firstDay:1},onSelect({date:b,formattedDate:w}){if(!b){console.warn("❌ Tanggal tidak valid!");return}let k=String(b.getMonth()+1).padStart(2,"0"),F=b.getFullYear();document.getElementById("filter-bulan").value=k,document.getElementById("filter-tahun").value=F,document.getElementById("monthPicker").value=w,document.getElementById("resetFilter").style.display="inline-block",typeof O=="function"&&O(k,F)}});document.getElementById("resetFilter").addEventListener("click",function(b){b.preventDefault(),document.getElementById("monthPicker").value="",document.getElementById("filter-bulan").value="",document.getElementById("filter-tahun").value="",this.style.display="none",h.clear(),typeof O=="function"&&O("","")}),document.addEventListener("themeChanged",function(b){const w=b.detail.actualTheme==="dark",k=document.querySelector(".air-datepicker");k&&(w?k.classList.add("air-datepicker-dark"):k.classList.remove("air-datepicker-dark"))}),window.currentDatePicker=h}class Me{constructor(m,f={}){this.container=typeof m=="string"?document.querySelector(m):m,this.options={onDateSelect:f.onDateSelect||this.defaultCallback,buttonText:f.buttonText||"Pilih Filter",buttonClass:f.buttonClass||"btn btn-outline-secondary dropdown-toggle d-flex justify-content-between align-items-center",buttonStyle:f.buttonStyle||"min-width: 150px;",...f},this.loadDependencies().then(()=>{this.init()})}async loadDependencies(){document.querySelector('link[href*="flatpickr"]')||await this.loadCSS("https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css");const m=[{url:"https://cdn.jsdelivr.net/npm/flatpickr",check:()=>window.flatpickr},{url:"https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/id.js",check:()=>{var f,y;return(y=(f=window.flatpickr)==null?void 0:f.l10ns)==null?void 0:y.id}},{url:"https://cdn.jsdelivr.net/npm/dayjs@1.10.8/dayjs.min.js",check:()=>window.dayjs},{url:"https://cdn.jsdelivr.net/npm/dayjs@1.10.8/plugin/advancedFormat.js",check:()=>window.dayjs_plugin_advancedFormat},{url:"https://cdn.jsdelivr.net/npm/dayjs@1.10.8/plugin/customParseFormat.js",check:()=>window.dayjs_plugin_customParseFormat}];for(const f of m)f.check()||await this.loadScript(f.url)}loadCSS(m){return new Promise(f=>{const y=document.createElement("link");y.rel="stylesheet",y.href=m,y.onload=f,document.head.appendChild(y)})}loadScript(m){return new Promise((f,y)=>{const h=document.createElement("script");h.src=m,h.onload=f,h.onerror=y,document.head.appendChild(h)})}init(){this.render(),this.initializeFlatpickr(),this.bindEvents()}render(){const m=`
            <div class="dropdown">
                <button class="btn btn-outline-secondary btn-sm dropdown-toggle d-flex justify-content-between align-items-center"
                        type="button" id="daterange-btn-${this.generateId()}" data-bs-toggle="dropdown"
                        style="${this.options.buttonStyle}">
                    <span class="text-small">
                        <i class="far fa-calendar-alt me-2"></i>
                        <span class="date-range-text">${this.options.buttonText}</span>
                    </span>
                </button>

                <ul class="dropdown-menu small" style="min-width: 150px;">
                    <li><h6 class="dropdown-header small">Pilihan Cepat</h6></li>
                    <li><a class="dropdown-item small" href="#" data-range="today">
                        <i class="fas fa-sun me-2"></i>Hari Ini
                    </a></li>
                    <li><a class="dropdown-item small" href="#" data-range="yesterday">
                        <i class="fas fa-moon me-2"></i>Kemarin
                    </a></li>
                    <li><a class="dropdown-item small" href="#" data-range="last7">
                        <i class="fas fa-calendar-week me-2"></i>7 Hari Terakhir
                    </a></li>
                    <li><a class="dropdown-item small" href="#" data-range="last30">
                        <i class="fas fa-calendar me-2"></i>30 Hari Terakhir
                    </a></li>
                    <li><a class="dropdown-item small" href="#" data-range="thisMonth">
                        <i class="fas fa-calendar-alt me-2"></i>Bulan Ini
                    </a></li>
                    <li><a class="dropdown-item small" href="#" data-range="lastMonth">
                        <i class="fas fa-calendar-day me-2"></i>Bulan Lalu
                    </a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item small custom-range-btn" href="#">
                        <i class="fas fa-calendar-plus me-2"></i>Rentang Kustom
                    </a></li>
                    <li><a class="dropdown-item small text-danger clear-btn" href="#">
                        <i class="fas fa-times me-2"></i>Reset Filter
                    </a></li>
                </ul>
            </div>

            <input type="text" class="flatpickr-hidden"
                style="position: absolute; left: -9999px; opacity: 0; width: 1px; height: 1px;">
        `;this.container.innerHTML=m,this.button=this.container.querySelector('[id^="daterange-btn-"]'),this.flatpickrInput=this.container.querySelector(".flatpickr-hidden"),this.quickOptions=this.container.querySelectorAll("[data-range]"),this.customRangeBtn=this.container.querySelector(".custom-range-btn"),this.clearBtn=this.container.querySelector(".clear-btn")}initializeFlatpickr(){dayjs.extend(dayjs_plugin_advancedFormat),dayjs.extend(dayjs_plugin_customParseFormat),this.flatpickrInstance=flatpickr(this.flatpickrInput,{mode:"range",dateFormat:"Y-m-d",locale:"id",clickOpens:!1,positionElement:this.button,onClose:m=>{m.length===2&&this.handleDateSelect(dayjs(m[0]),dayjs(m[1]))}})}bindEvents(){this.quickOptions.forEach(m=>{m.addEventListener("click",f=>{f.preventDefault();const y=this.calculateDateRange(m.getAttribute("data-range"));this.flatpickrInstance.setDate([y.start.toDate(),y.end.toDate()]),this.handleDateSelect(y.start,y.end),this.closeDropdown()})}),this.customRangeBtn.addEventListener("click",m=>{m.preventDefault(),this.closeDropdown(),this.flatpickrInstance.open()}),this.clearBtn.addEventListener("click",m=>{m.preventDefault(),this.clearDateRange(),this.closeDropdown()})}calculateDateRange(m){const f=dayjs();let y,h;switch(m){case"today":y=f,h=f;break;case"yesterday":y=f.subtract(1,"day"),h=f.subtract(1,"day");break;case"last7":y=f.subtract(6,"days"),h=f;break;case"last30":y=f.subtract(29,"days"),h=f;break;case"thisMonth":y=f.startOf("month"),h=f.endOf("month");break;case"lastMonth":y=f.subtract(1,"month").startOf("month"),h=f.subtract(1,"month").endOf("month");break}return{start:y,end:h}}handleDateSelect(m,f){const y={start:m.format("YYYY-MM-DD"),end:f.format("YYYY-MM-DD"),formatted:`${m.format("D MMM YYYY")} - ${f.format("D MMM YYYY")}`,startDate:m,endDate:f};this.options.onDateSelect(y)}closeDropdown(){const m=bootstrap.Dropdown.getInstance(this.button);m&&m.hide()}defaultCallback(m){console.log("Selected date range:",m)}generateId(){if(typeof crypto<"u"&&crypto.getRandomValues){const m=new Uint32Array(1);return crypto.getRandomValues(m),m[0].toString(36).substr(2,9)}return Math.random().toString(36).substr(2,9)}clearDateRange(){this.flatpickrInstance.clear();const m=this.container.querySelector(".date-range-text");m&&(m.textContent=this.options.buttonText),this.options.onDateSelect(null)}destroy(){this.flatpickrInstance&&this.flatpickrInstance.destroy(),this.container.innerHTML=""}setDateRange(m,f){const y=dayjs(m),h=dayjs(f);this.flatpickrInstance.setDate([y.toDate(),h.toDate()]),this.handleDateSelect(y,h)}}typeof window<"u"&&(window.DateRangePicker=Me);export{Me as D,Se as f};
