import l from"./axiosClient-8LtfCK6A.js";function d(t,o){const s=t.querySelector(".modal-header"),e=t.querySelector("#btnAction"),a=t.querySelector(".modal-title");if(!s||!e||!a)return;s.className="modal-header",s.style.display="flex",e.style.display="block";const n={create:{headerClass:["gradient-card"],btnClass:["gradient-card"],btnText:"💾 Save",title:"🗂️ Create Data"},edit:{headerClass:["gradient-card"],btnClass:[],btnText:"💾 Update",title:"🗂️ Update Data"},show:{headerClass:[],btnClass:[],btnText:"",title:""}},r=n[o]||n.show;o==="show"?(s.style.display="none",e.style.display="none"):(r.headerClass.length&&s.classList.add(...r.headerClass),r.btnClass.length&&e.classList.add(...r.btnClass),e.innerHTML=r.btnText,a.innerHTML=r.title)}function i(t,o,s){const e=document.querySelector("#modalAction");if(!e)return showToast("❌ Modal tidak ditemukan!","error");if(typeof t=="object"&&t.status==="error")return showToast(t.msg||"Terjadi kesalahan","error");if(typeof t!="string")return showToast("Response tidak valid","error");e.querySelector(".modal-dialog").innerHTML=t,e.classList.add("show"),e.style.display="block",setTimeout(()=>d(e,o),100);let a=bootstrap.Modal.getInstance(e);a||(a=new bootstrap.Modal(e)),a.show(),typeof s=="function"&&s()}function h(){const t=document.querySelector(".modal.show");if(t){const o=bootstrap.Modal.getInstance(t);o&&o.hide()}document.querySelectorAll(".modal").forEach(o=>{o.style.display="none",o.classList.remove("show")}),document.querySelectorAll(".modal-backdrop").forEach(o=>{o.remove()}),document.body.classList.remove("modal-open"),document.body.style.overflow="",document.body.style.paddingRight=""}const y=async(t="",o,s=null)=>{try{const e=await l.get(t);return i(e.data,o,s),e.data}catch(e){throw console.error("Error fetching data:",e.message),showToast(`Error: ${e.message}`,"error"),e}};export{h as c,y as s};
